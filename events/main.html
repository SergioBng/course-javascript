<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <title>Document</title>
</head>

<body>
    <table id="table" border="1">
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr id="button">
            <td class="tdf" colspan="3">ADD ROW</td>
        </tr>
    </table>

    <script>

        button.onclick = function () {
            table.insertAdjacentHTML('afterbegin', '<tr><td></td><td></td><td></td></tr>');
        };

        let selectedTd;
        let selectedInput;

        table.onclick = function (event) {
            let target = event.target;

            if (target.tagName != 'TD') return;

            if (target.classList == 'tdf') return;

            changeTd(target);

        };


        function changeTd(td) {

            if (selectedInput) {

                selectedInput.remove();
            }


            let input = document.createElement('input');
            input.setAttribute('id', 'input');
            td.prepend(input);
            input.focus();

            selectedInput = input;

            input.onchange = function () {
                td.innerHTML = input.value;
            };

        }

    </script>

</body>

</html>